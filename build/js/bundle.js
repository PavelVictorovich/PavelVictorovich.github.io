!function(t){function a(o){if(e[o])return e[o].exports;var s=e[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}var e={};return a.m=t,a.c=e,a.p="",a(0)}([function(t,a,e){t.exports=e(1)},function(t,a){"use strict";!function(){$.fn.navbar=function(t){var a=$.extend({scrollSpeed:1e3,mySelector:"div"},t),e=[],o=0,s=$(".navbar").height(),i=$(".navbar"),r=$(".navbar a"),n=i.height();if(a.scrollSpeed)var l=a.scrollSpeed;return r.each(function(t){var a=$(this).attr("href");$(this).hasClass("extLink")||$(this).attr("id",a),e.push([$(a).position().top-s,$(a).height()+$(a).position().top,a]);var c=i.offset().top,v=function(o){var r=$(window).scrollTop()+n;r>c+n?(i.addClass("navbar-fixed-top"),$("body").css("padding-top",s)):(i.removeClass("navbar-fixed-top"),$("body").css("padding-top","0")),e[t][0]<=r&&r<=e[t][1]&&("up"==o?($(a).addClass("active"),$(e[t+1][2]).removeClass("active")):t>0?($(a).addClass("active"),$(e[t-1][2]).removeClass("active")):void 0==o&&$(a).addClass("active"),$.each(e,function(t){a!=e[t][2]&&$(e[t][2]).removeClass("active")}))};v(),$(window).scroll(function(){var t=$(this).scrollTop()+n;if(t>o)var a="down";else if(t<o)var a="up";o=t,v(a),$(window).scrollTop()+$(window).height()==$(document).height()?(r.removeClass("active"),$(".navbar a:not('.extLink'):last").addClass("active")):r.last().removeClass("active")}),$(this).on("click",function(t){var a=i.height();t.preventDefault();var e=$(this).attr("href"),o=$(e).offset().top-a;if($("html, body").stop().animate({scrollTop:o},l),$(this).hasClass("extLink"))return!1}),$(".intLink").on("click",function(t){var a=i.height();t.preventDefault();var e=$(this).attr("href");if(i.hasClass("navbar-fixed-top"))var o=$(e).position().top-a;else var o=$(e).position().top-2*a;if($("html, body").stop().animate({scrollTop:o},l),$(this).hasClass("extLink"))return!1})})},$.fn.navbar.defaults={scrollSpeed:1e3,mySelector:"div"}}(jQuery),$(document).ready(function(){$(".navbar").navbar()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA2MDQ5Y2QyY2I2ZDJmOWE0YjA0ZCIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCIkIiwiZm4iLCJuYXZiYXIiLCJvcHRpb25zIiwic2V0dGluZ3MiLCJleHRlbmQiLCJzY3JvbGxTcGVlZCIsIm15U2VsZWN0b3IiLCJvcHRpb25Mb2NzIiwibGFzdFNjcm9sbFRvcCIsIm1lbnVIZWlnaHQiLCJoZWlnaHQiLCJuYXYiLCJuYXZBIiwibXlPZmZzZXQiLCJlYWNoIiwiaW5kZXgiLCJ0aGlzIiwiYXR0ciIsImhhc0NsYXNzIiwicHVzaCIsInBvc2l0aW9uIiwidG9wIiwic3RpY2t5VG9wIiwib2Zmc2V0Iiwic3RpY2t5TWVudSIsImRpcmVjdGlvbiIsInNjcm9sbFRvcCIsIndpbmRvdyIsImFkZENsYXNzIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJ1bmRlZmluZWQiLCJpIiwic2Nyb2xsIiwic3QiLCJkb2N1bWVudCIsImxhc3QiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImhhc2giLCJnb1RvIiwic3RvcCIsImFuaW1hdGUiLCJkZWZhdWx0cyIsImpRdWVyeSIsInJlYWR5Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFB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QUFNQyxLQUFLLE9BRXhCLElBQUlOLEVBQUlPLFNBQVMsb0JBQ2IsR0FBSXVCLEdBQU8xQyxFQUFFeUMsR0FBTXBCLFdBQVdDLElBQU1SLE1BRXBDLElBQUk0QixHQUFPMUMsRUFBRXlDLEdBQU1wQixXQUFXQyxJQUFpQixFQUFYUixDQUt4QyxJQUZBZCxFQUFFLGNBQWMyQyxPQUFPQyxTQUFVakIsVUFBV2UsR0FBUXBDLEdBRWhETixFQUFFaUIsTUFBTUUsU0FBUyxXQUNqQixPQUFPLE9BTXZCbkIsRUFBRUMsR0FBR0MsT0FBTzJDLFVBQWF2QyxZQUFlLElBQU1DLFdBQWMsUUFDN0R1QyxRQUVIOUMsRUFBRW9DLFVBQVVXLE1BQU0sV0FDZC9DLEVBQUUsV0FBV0UiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAkLmZuLm5hdmJhciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe1xuXHQgICAgICAgICAgICAnc2Nyb2xsU3BlZWQnOiAxMDAwLFxuXHQgICAgICAgICAgICAnbXlTZWxlY3Rvcic6ICdkaXYnXG5cdCAgICAgICAgfSwgb3B0aW9ucyk7XG5cdFxuXHQgICAgICAgIHZhciBvcHRpb25Mb2NzID0gbmV3IEFycmF5KCksXG5cdCAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSAwLFxuXHQgICAgICAgICAgICBtZW51SGVpZ2h0ID0gJCgnLm5hdmJhcicpLmhlaWdodCgpLFxuXHQgICAgICAgICAgICBuYXYgPSAkKCcubmF2YmFyJyksXG5cdCAgICAgICAgICAgIG5hdkEgPSAkKCcubmF2YmFyIGEnKSxcblx0ICAgICAgICAgICAgbXlPZmZzZXQgPSBuYXYuaGVpZ2h0KCk7XG5cdFxuXHQgICAgICAgIGlmIChzZXR0aW5ncy5zY3JvbGxTcGVlZCkge1xuXHQgICAgICAgICAgICB2YXIgc2Nyb2xsU3BlZWQgPSBzZXR0aW5ncy5zY3JvbGxTcGVlZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBuYXZBLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwiZXh0TGlua1wiKSkge1xuXHQgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsIGlkKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgb3B0aW9uTG9jcy5wdXNoKEFycmF5KCQoaWQpLnBvc2l0aW9uKCkudG9wIC0gbWVudUhlaWdodCwgJChpZCkuaGVpZ2h0KCkgKyAkKGlkKS5wb3NpdGlvbigpLnRvcCwgaWQpKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBzdGlja3lUb3AgPSBuYXYub2Zmc2V0KCkudG9wO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHN0aWNreU1lbnUgPSBmdW5jdGlvbiBzdGlja3lNZW51KGRpcmVjdGlvbikge1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyBteU9mZnNldDtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gc3RpY2t5VG9wICsgbXlPZmZzZXQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBuYXYuYWRkQ2xhc3MoJ25hdmJhci1maXhlZC10b3AnKTtcblx0ICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuY3NzKCdwYWRkaW5nLXRvcCcsIG1lbnVIZWlnaHQpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBuYXYucmVtb3ZlQ2xhc3MoJ25hdmJhci1maXhlZC10b3AnKTtcblx0ICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuY3NzKCdwYWRkaW5nLXRvcCcsICcwJyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKG9wdGlvbkxvY3NbaW5kZXhdWzBdIDw9IHNjcm9sbFRvcCAmJiBzY3JvbGxUb3AgPD0gb3B0aW9uTG9jc1tpbmRleF1bMV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwidXBcIikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAkKGlkKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJChvcHRpb25Mb2NzW2luZGV4ICsgMV1bMl0pLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICQoaWQpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAkKG9wdGlvbkxvY3NbaW5kZXggLSAxXVsyXSkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICQoaWQpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9uTG9jcywgZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkICE9IG9wdGlvbkxvY3NbaV1bMl0pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICQob3B0aW9uTG9jc1tpXVsyXSkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIHN0aWNreU1lbnUoKTtcblx0XG5cdCAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKSArIG15T2Zmc2V0O1xuXHQgICAgICAgICAgICAgICAgaWYgKHN0ID4gbGFzdFNjcm9sbFRvcCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBcImRvd25cIjtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3QgPCBsYXN0U2Nyb2xsVG9wKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IFwidXBcIjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcblx0ICAgICAgICAgICAgICAgIHN0aWNreU1lbnUoZGlyZWN0aW9uKTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpID09ICQoZG9jdW1lbnQpLmhlaWdodCgpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbmF2QS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgJChcIi5uYXZiYXIgYTpub3QoJy5leHRMaW5rJyk6bGFzdFwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIG5hdkEubGFzdCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbXlPZmZzZXQgPSBuYXYuaGVpZ2h0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBoYXNoID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGdvVG8gPSAkKGhhc2gpLm9mZnNldCgpLnRvcCAtIG15T2Zmc2V0O1xuXHRcblx0ICAgICAgICAgICAgICAgICQoXCJodG1sLCBib2R5XCIpLnN0b3AoKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBnb1RvIH0sIHNjcm9sbFNwZWVkKTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImV4dExpbmtcIikpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgJCgnLmludExpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG15T2Zmc2V0ID0gbmF2LmhlaWdodCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgaGFzaCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChuYXYuaGFzQ2xhc3MoJ25hdmJhci1maXhlZC10b3AnKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnb1RvID0gJChoYXNoKS5wb3NpdGlvbigpLnRvcCAtIG15T2Zmc2V0O1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ29UbyA9ICQoaGFzaCkucG9zaXRpb24oKS50b3AgLSBteU9mZnNldCAqIDI7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IGdvVG8gfSwgc2Nyb2xsU3BlZWQpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZXh0TGlua1wiKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgICQuZm4ubmF2YmFyLmRlZmF1bHRzID0geyAnc2Nyb2xsU3BlZWQnOiAxMDAwLCAnbXlTZWxlY3Rvcic6ICdkaXYnIH07XG5cdH0pKGpRdWVyeSk7XG5cdFxuXHQkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cdCAgICAkKCcubmF2YmFyJykubmF2YmFyKCk7XG5cdH0pO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBidW5kbGUuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDYwNDljZDJjYjZkMmY5YTRiMDRkXG4gKiovIiwiKGZ1bmN0aW9uKCkge1xuICAgICQuZm4ubmF2YmFyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICAnc2Nyb2xsU3BlZWQnOiAxMDAwLFxuICAgICAgICAgICAgJ215U2VsZWN0b3InOiAnZGl2J1xuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgb3B0aW9uTG9jcyA9IG5ldyBBcnJheSgpLFxuICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IDAsXG4gICAgICAgICAgICBtZW51SGVpZ2h0ID0gJCgnLm5hdmJhcicpLmhlaWdodCgpLFxuICAgICAgICAgICAgbmF2ID0gJCgnLm5hdmJhcicpLFxuICAgICAgICAgICAgbmF2QSA9ICQoJy5uYXZiYXIgYScpLFxuICAgICAgICAgICAgbXlPZmZzZXQgPSBuYXYuaGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLnNjcm9sbFNwZWVkKSB7IHZhciBzY3JvbGxTcGVlZCA9IHNldHRpbmdzLnNjcm9sbFNwZWVkIH1cblxuICAgICAgICByZXR1cm4gbmF2QS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwiZXh0TGlua1wiKSkgeyAkKHRoaXMpLmF0dHIoJ2lkJywgaWQpOyB9XG5cbiAgICAgICAgICAgIG9wdGlvbkxvY3MucHVzaChBcnJheShcbiAgICAgICAgICAgICAgICAkKGlkKS5wb3NpdGlvbigpLnRvcCAtIG1lbnVIZWlnaHQsXG4gICAgICAgICAgICAgICAgJChpZCkuaGVpZ2h0KCkgKyAkKGlkKS5wb3NpdGlvbigpLnRvcCwgaWQpKTtcblxuICAgICAgICAgICAgdmFyIHN0aWNreVRvcCA9IG5hdi5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgIHZhciBzdGlja3lNZW51ID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgbXlPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gc3RpY2t5VG9wICsgbXlPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF2LmFkZENsYXNzKCduYXZiYXItZml4ZWQtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ3BhZGRpbmctdG9wJywgbWVudUhlaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmF2LnJlbW92ZUNsYXNzKCduYXZiYXItZml4ZWQtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ3BhZGRpbmctdG9wJywgJzAnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uTG9jc1tpbmRleF1bMF0gPD0gc2Nyb2xsVG9wICYmIHNjcm9sbFRvcCA8PSBvcHRpb25Mb2NzW2luZGV4XVsxXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwidXBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChpZCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKG9wdGlvbkxvY3NbaW5kZXggKyAxXVsyXSkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGlkKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQob3B0aW9uTG9jc1tpbmRleCAtIDFdWzJdKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGlkKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9uTG9jcywgZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkICE9IG9wdGlvbkxvY3NbaV1bMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG9wdGlvbkxvY3NbaV1bMl0pLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzdGlja3lNZW51KCk7XG5cbiAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKSArIG15T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChzdCA+IGxhc3RTY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IFwiZG93blwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3QgPCBsYXN0U2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBcInVwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcbiAgICAgICAgICAgICAgICBzdGlja3lNZW51KGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpID09ICQoZG9jdW1lbnQpLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdkEucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLm5hdmJhciBhOm5vdCgnLmV4dExpbmsnKTpsYXN0XCIpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuYXZBLmxhc3QoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBteU9mZnNldCA9IG5hdi5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBoYXNoID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZ29UbyA9ICQoaGFzaCkub2Zmc2V0KCkudG9wIC0gbXlPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5zdG9wKCkuYW5pbWF0ZSh7IHNjcm9sbFRvcDogZ29UbyB9LCBzY3JvbGxTcGVlZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImV4dExpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuaW50TGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXlPZmZzZXQgPSBuYXYuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFzaCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdi5oYXNDbGFzcygnbmF2YmFyLWZpeGVkLXRvcCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnb1RvID0gJChoYXNoKS5wb3NpdGlvbigpLnRvcCAtIG15T2Zmc2V0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnb1RvID0gJChoYXNoKS5wb3NpdGlvbigpLnRvcCAtIG15T2Zmc2V0ICogMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5zdG9wKCkuYW5pbWF0ZSh7IHNjcm9sbFRvcDogZ29UbyB9LCBzY3JvbGxTcGVlZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImV4dExpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJC5mbi5uYXZiYXIuZGVmYXVsdHMgPSB7ICdzY3JvbGxTcGVlZCc6IDEwMDAsICdteVNlbGVjdG9yJzogJ2RpdicgfTtcbn0pKGpRdWVyeSk7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAkKCcubmF2YmFyJykubmF2YmFyKCk7XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21haW4uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9